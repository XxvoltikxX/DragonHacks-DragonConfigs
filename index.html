<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DragonConfigs - Home</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />
  <style>
    /* ============================
        Reset i podstawowa struktura
        ============================ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      font-family: 'Poppins', sans-serif;
      background-color: #000; /* Kolor tła widoczny, jeśli wideo się nie załaduje */
    }

    /* ============================
        Pasek nawigacyjny – półprzezroczysty
        ============================ */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      line-height: 60px;
      background-color: rgba(0, 0, 0, 0.8);
      border-bottom: 1px solid rgba(34, 34, 34, 0.8);
      display: flex;
      align-items: center;
      padding: 0 1rem;
      z-index: 10;
    }
    .nav-logo {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(
        45deg,
        #00ffd1 0%,
        #00bfff 25%,
        #ff00ff 50%,
        #ff0055 75%,
        #ffee00 100%
      );
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradient-wave 1.5s ease-in-out infinite;
      text-decoration: none;
      margin-right: 2rem;
    }
    @keyframes gradient-wave {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .nav-list {
      display: flex;
      list-style: none;
      gap: 1.5rem;
    }
    .nav-list li {
      position: relative;
    }
    .nav-list a {
      color: #e0e0e0;
      text-decoration: none;
      font-size: 1rem;
      transition: color 0.2s ease;
    }
    .nav-list a:hover,
    .nav-list .active > a {
      color: #00ffc2;
    }
    .dropdown-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background-color: rgba(0, 0, 0, 0.8);
      border: 1px solid rgba(34, 34, 34, 0.8);
      border-radius: 4px;
      list-style: none;
      padding: 0.5rem 0;
      z-index: 11;
    }
    .dropdown:hover .dropdown-menu {
      display: block;
    }
    .dropdown-menu li {
      margin: 0;
    }
    .dropdown-menu a {
      display: block;
      padding: 0.4rem 1rem;
      white-space: nowrap;
      color: #e0e0e0;
    }
    .dropdown-menu a:hover {
      background-color: rgba(34, 34, 34, 0.8);
      color: #00ffc2;
    }

    /* ============================
        Canvas z unoszącymi się pyłkami
        ============================ */
    #fireCanvas {
      position: fixed;
      top: 60px;
      left: 0;
      width: 100vw;
      height: calc(100vh - 60px);
      pointer-events: none;
      z-index: 2;
    }

    /* ============================
        Kontener iframe (tło wideo)
        ============================ */
    .video-background {
      position: fixed;
      top: 60px;
      left: 0;
      width: 100vw;
      height: calc(100vh - 60px);
      z-index: 0;
      overflow: hidden;
      pointer-events: none;
    }
    .video-background iframe {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 177.77777778vh; /* 100vh * 16/9 */
      min-width: 100vw;
      height: 56.25vw;    /* 100vw * 9/16 */
      min-height: 100vh;
      transform: translate(-50%, -50%);
      border: none;
      filter: blur(8px);
    }

    /* Overlay do przechwycenia kliknięcia i odciszenia */
    #click-overlay {
      position: fixed;
      top: 60px;
      left: 0;
      width: 100vw;
      height: calc(100vh - 60px);
      z-index: 3;
      cursor: pointer;
      background-color: rgba(0,0,0,0);
    }

    /* ============================
        Hero (tekst + przycisk na środku ekranu)
        ============================ */
    header.hero {
      position: absolute; /* Było 'absolute', jeśli ma być na wideo, to jest OK */
      top: 60px;
      left: 0;
      width: 100vw;
      height: calc(100vh - 60px);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: #fff;
      z-index: 5; /* Musi być nad .click-overlay */
    }
    .typewriter-container {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      font-weight: 700;
      height: auto;
    }
    #typed-text {
      background: linear-gradient(
        45deg,
        #07c9b9 0%,
        #00bfff 25%,
        #ff00ff 50%,
        #ff0055 75%,
        #ffee00 100%
      );
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradient-wave 1.5s ease-in-out infinite;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8);
    }
    #cursor {
      display: inline-block;
      margin-left: 4px;
      font-size: 2.5rem;
      font-weight: 700;
      color: #ffffff;
      animation: blink 0.7s step-start infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
    header.hero p {
      font-size: 1.5rem;
      margin: 1rem 0 2rem;
      color: #f0f0f0;
      text-shadow: 2px 2px 12px rgba(0, 0, 0, 0.7);
    }
    header.hero .btn {
      display: inline-block;
      padding: 0.85rem 1.75rem;
      background-color: transparent;
      border: none;
      color: #ffffff;
      text-decoration: none;
      font-size: 1rem;
      font-weight: 500;
      transition: color 0.2s ease, transform 0.2s ease;
      text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.8);
      border-radius: 20px;
    }
    header.hero .btn:hover {
      color: #00ffc2;
      transform: translateY(-2px);
    }

    /* ============================
        Stopka
        ============================ */
    footer {
      /* Jeśli header.hero ma position: absolute i wysokość calc(100vh - 60px),
         stopka może być zakryta lub wymagać innego pozycjonowania.
         Dla prostoty zakładam, że treść strony będzie scrollowana
         lub stopka jest częścią innej sekcji.
         Jeśli strona ma tylko jedną "stronę" wysokości (hero),
         to footer może wymagać position: fixed; bottom: 0;
         lub dynamicznego obliczenia margin-top.
         Na razie zostawiam jak było, ale miej to na uwadze. */
      padding: 1.5rem 1rem;
      background-color: #111;
      color: #aaa;
      text-align: center;
      font-size: 0.9rem;
      position: relative; /* Aby upewnić się, że jest w normalnym przepływie dokumentu */
      z-index: 6; /* Na wypadek gdyby inne elementy mogły ją zakryć */
      /* margin-top: calc(100vh - 60px + 60px);  <-- usunięte, bo hero jest absolute */
      /* Jeśli cała strona (razem z hero i contentem) ma być wyższa niż ekran,
         ten margin-top nie jest potrzebny, stopka po prostu będzie na dole.
         Jeśli hero jest jedyną treścią, to trzeba to przemyśleć inaczej. */
    }
    footer a {
      color: #00ffc2;
      text-decoration: none;
    }
    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <canvas id="fireCanvas"></canvas>

  <div class="video-background">
    <iframe
      id="bg-video"
      src="https://www.youtube-nocookie.com/embed/TUTAJ_ID_TWOJEGO_NOWEGO_WIDEO?start=0&autoplay=1&mute=1&controls=0&loop=1&playlist=TUTAJ_ID_TWOJEGO_NOWEGO_WIDEO&enablejsapi=1&iv_load_policy=3&modestbranding=1&fs=0"
      allow="autoplay; encrypted-media;"
      allowfullscreen
    ></iframe>
    </div>

  <div id="click-overlay"></div>

  <nav>
    <a href="index.html" class="nav-logo">DragonConfigs</a>
    <ul class="nav-list">
      <li class="active"><a href="index.html">Strona Główna</a></li>
      <li><a href="Configi.html">Wszystko MC</a></li>
      <li class="dropdown">
        <a href="#">Więcej</a>
        <ul class="dropdown-menu">
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="about.html">O nas</a></li>
        </ul>
      </li>
      <li><a href="download.html">Pobierz</a></li>
      <li><a href="https://discord.gg/pTXQpWgfaE" target="_blank">Kontakt</a></li>
    </ul>
  </nav>

  <header class="hero">
    <div class="typewriter-container">
      <span id="typed-text"></span><span id="cursor">|</span>
    </div>
    <p>Twoje centrum cheatów i configów do Minecrafta</p>
    <a href="Configi.html" class="btn">Zobacz Configi</a>
  </header>

  <footer>
    <p>© 2025 DragonConfigs | Made by XxvoltikxX</p>
    <p><a href="https://minecraft.net" target="_blank" rel="noopener">Oficjalna strona Minecraft</a></p>
  </footer>

  <script src="https://www.youtube.com/iframe_api"></script>

  <script>
    let player;
    let clickOverlayElement;

    function onYouTubeIframeAPIReady() {
      console.log("YouTube IFrame API Ready. Initializing player...");
      player = new YT.Player('bg-video', {
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }

    function onPlayerReady(event) {
      console.log("YouTube Player Ready. Video should be autoplaying (muted).");
    }

    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.ENDED) {
        // Możesz tu ustawić czas startowy, jeśli 'start' w URL nie wystarcza lub chcesz inne zachowanie
        // player.seekTo(TWOJ_CZAS_STARTU_W_SEKUNDACH);
        player.playVideo(); // Ponownie odtwórz, aby zapętlić
        console.log("Video ended and restarted (looping).");
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      clickOverlayElement = document.getElementById('click-overlay');

      if (clickOverlayElement) {
        clickOverlayElement.addEventListener('click', () => {
          if (player && typeof player.unMute === 'function' && typeof player.playVideo === 'function') {
            if (player.isMuted()) {
                player.unMute();
                console.log("Video unmuted by user click.");
            }
            player.playVideo();
            console.log("Play video command sent after click.");

            if (clickOverlayElement && clickOverlayElement.parentNode) {
              clickOverlayElement.parentNode.removeChild(clickOverlayElement);
              clickOverlayElement = null;
              console.log("Click overlay removed.");
            }
          } else {
            console.warn("Player not ready or unMute/playVideo function not available yet. User clicked too early or API issue.");
          }
        });
      } else {
        console.error("Click overlay element (#click-overlay) not found!");
      }

      // --- Animacja pyłków ---
      (function() {
        const canvas = document.getElementById('fireCanvas');
        if (!canvas) {
            console.warn("Canvas element #fireCanvas not found for particles.");
            return;
        }
        const ctx = canvas.getContext('2d');
        let particles = [];
        const MAX_PARTICLES = 100; // Możesz dostosować ilość

        function resizeCanvas() {
          canvas.width = window.innerWidth;
          const navHeight = document.querySelector('nav')?.offsetHeight || 60;
          canvas.height = window.innerHeight - navHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function randBetween(min, max) {
          return Math.random() * (max - min) + min;
        }

        class Particle {
          constructor() { this.reset(); }
          update() {
            this.y += this.velocityY;
            this.x += this.velocityX;
            this.alpha -= this.decay;
            if (this.alpha <= 0 || this.y < -this.size || this.x < -this.size || this.x > canvas.width + this.size) {
              this.reset();
            }
          }
          draw() {
            if (this.alpha <= 0) return;
            ctx.beginPath();
            ctx.fillStyle = this.color.replace(/[\d\.]+\)$/g, `${this.alpha.toFixed(2)})`);
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fill();
            ctx.closePath();
          }
          reset() {
            this.x = randBetween(0, canvas.width);
            this.y = randBetween(canvas.height, canvas.height + 50);
            this.velocityY = randBetween(-0.3, -1.0);
            this.velocityX = randBetween(-0.2, 0.2);
            this.size = randBetween(1, 3);
            this.alpha = randBetween(0.2, 0.6);
            this.decay = randBetween(0.0005, 0.0015);
            const v = Math.floor(randBetween(200, 255));
            this.color = `rgba(${v}, ${v}, ${v}, ${this.alpha})`;
          }
        }
        function initParticles() {
          particles = [];
          for (let i = 0; i < MAX_PARTICLES; i++) { particles.push(new Particle()); }
        }
        initParticles();

        let lastTime = 0;
        function animateParticles(timestamp) {
          const deltaTime = timestamp - lastTime;
          lastTime = timestamp;
          if (deltaTime < 100) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
          }
          requestAnimationFrame(animateParticles);
        }
        requestAnimationFrame(animateParticles);
      })();

      // --- Efekt maszynopisu ---
      const typedTextSpan = document.getElementById('typed-text');
      const cursorSpan = document.getElementById('cursor');
      if (typedTextSpan && cursorSpan) {
        const textToType = 'Witaj na stronie DragonConfigs';
        const typingSpeed = 120;
        const erasingSpeed = 60;
        const newTextDelay = 1500;
        let charIndex = 0;
        let isErasing = false;

        function type() {
          if (!typedTextSpan || !cursorSpan) return;
          if (!isErasing) {
            if (charIndex < textToType.length) {
              typedTextSpan.textContent += textToType.charAt(charIndex);
              charIndex++;
              setTimeout(type, typingSpeed);
            } else {
              setTimeout(() => { isErasing = true; setTimeout(type, erasingSpeed); }, newTextDelay);
            }
          } else {
            if (charIndex > 0) {
              typedTextSpan.textContent = textToType.substring(0, charIndex - 1);
              charIndex--;
              setTimeout(type, erasingSpeed);
            } else {
              isErasing = false;
              setTimeout(type, typingSpeed);
            }
          }
        }
        setTimeout(type, newTextDelay);
      } else {
        console.warn("Elementy #typed-text lub #cursor nie znalezione dla efektu maszynopisu.");
      }
    });
  </script>
</body>
</html>
