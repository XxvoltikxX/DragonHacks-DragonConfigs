<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DragonConfigs - Home</title>

  <!-- Import fontu Poppins z Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap"
    rel="stylesheet"
  />

  <style>
    /* ===========================================
       RESET I PODSTAWOWA STRUKTURA
       =========================================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      font-family: 'Poppins', sans-serif;
      background-color: #000; /* czarne tło, gdyby wideo się nie wczytało */
    }

    /* ===========================================
       PASEK NAWIGACYJNY (PÓŁPRZEZROCZYSTY)
       =========================================== */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      line-height: 60px;
      background-color: rgba(0, 0, 0, 0.8);
      border-bottom: 1px solid rgba(34, 34, 34, 0.8);
      display: flex;
      align-items: center;
      padding: 0 1rem;
      z-index: 10;
    }
    .nav-logo {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(
        45deg,
        #00ffd1 0%,
        #00bfff 25%,
        #ff00ff 50%,
        #ff0055 75%,
        #ffee00 100%
      );
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradient-wave 1.5s ease-in-out infinite;
      text-decoration: none;
      margin-right: 2rem;
    }
    @keyframes gradient-wave {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .nav-list {
      display: flex;
      list-style: none;
      gap: 1.5rem;
    }
    .nav-list li {
      position: relative;
    }
    .nav-list a {
      color: #e0e0e0;
      text-decoration: none;
      font-size: 1rem;
      transition: color 0.2s ease;
    }
    .nav-list a:hover,
    .nav-list .active > a {
      color: #00ffc2;
    }
    .dropdown-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background-color: rgba(0, 0, 0, 0.8);
      border: 1px solid rgba(34, 34, 34, 0.8);
      border-radius: 4px;
      list-style: none;
      padding: 0.5rem 0;
      z-index: 11;
    }
    .dropdown:hover .dropdown-menu {
      display: block;
    }
    .dropdown-menu li {
      margin: 0;
    }
    .dropdown-menu a {
      display: block;
      padding: 0.4rem 1rem;
      white-space: nowrap;
      color: #e0e0e0;
    }
    .dropdown-menu a:hover {
      background-color: rgba(34, 34, 34, 0.8);
      color: #00ffc2;
    }

    /* ===========================================
       CANVAS: unoszące się pyłki (Floating Dust)
       =========================================== */
    #fireCanvas {
      position: fixed;
      top: 60px;                  /* zaraz pod navbarem */
      left: 0;
      width: 100vw;
      height: calc(100vh - 60px);
      pointer-events: none;
      z-index: 2;                 /* nad wideo, pod hero */
    }

    /* ===========================================
       WIDEO W TLE (YT) – próbujemy bez wstępnego mute
       =========================================== */
    .video-background {
      position: fixed;
      top: 60px;                  /* zaraz pod navbarem */
      left: 0;
      width: 100vw;
      height: calc(100vh - 60px);
      z-index: 0;                 /* najniżej */
      overflow: hidden;
    }
    .video-background iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
      filter: blur(8px);
      transform: translate(0, 0) scale(1.1);
    }

    /* ===========================================
       Transparentny overlay, żeby złapać pierwszy klik (unMute)
       =========================================== */
    #click-overlay {
      position: fixed;
      top: 60px;
      left: 0;
      width: 100vw;
      height: calc(100vh - 60px);
      z-index: 3;
      cursor: pointer;
      background-color: rgba(0,0,0,0); /* w pełni przezroczysty */
    }

    /* ===========================================
       HERO (NAPIS + PRZYCISK NA ŚRODKU)
       =========================================== */
    header.hero {
      position: absolute;
      top: 60px;                   /* start pod navbarem */
      left: 0;
      width: 100vw;
      height: calc(100vh - 60px);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: #fff;
      z-index: 5;                  /* nad overlayem i navbarem */
    }
    .typewriter-container {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      font-weight: 700;
      height: auto;
    }
    #typed-text {
      background: linear-gradient(
        45deg,
        #07c9b9 0%,
        #00bfff 25%,
        #ff00ff 50%,
        #ff0055 75%,
        #ffee00 100%
      );
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradient-wave 1.5s ease-in-out infinite;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8);
    }
    #cursor {
      display: inline-block;
      margin-left: 4px;
      font-size: 2.5rem;
      font-weight: 700;
      color: #ffffff;
      animation: blink 0.7s step-start infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
    header.hero p {
      font-size: 1.5rem;
      margin: 1rem 0 2rem;
      color: #f0f0f0;
      text-shadow: 2px 2px 12px rgba(0, 0, 0, 0.7);
    }
    header.hero .btn {
      display: inline-block;
      padding: 0.85rem 1.75rem;
      background-color: transparent;
      border: none;
      color: #ffffff;
      text-decoration: none;
      font-size: 1rem;
      font-weight: 500;
      transition: color 0.2s ease, transform 0.2s ease;
      text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.8);
      border-radius: 20px;
    }
    header.hero .btn:hover {
      color: #00ffc2;
      transform: translateY(-2px);
    }

    /* ===========================================
       STOPKA
       =========================================== */
    footer {
      padding: 1.5rem 1rem;
      background-color: #111;
      color: #aaa;
      text-align: center;
      font-size: 0.9rem;
      margin-top: calc(100vh + 60px);
    }
    footer a {
      color: #00ffc2;
      text-decoration: none;
    }
    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <!-- 1) CANVAS dla unoszących się pyłków -->
  <canvas id="fireCanvas"></canvas>

  <!-- 2) WIDEO Z YOUTUBE (bez mute=1, z autoplay=1 & enablejsapi=1) -->
  <div class="video-background">
    <iframe
      id="bg-video"
      src="https://www.youtube-nocookie.com/embed/PD8RH_c7Kvk?start=28&autoplay=1&controls=1&loop=1&playlist=PD8RH_c7Kvk&enablejsapi=1"
      allow="autoplay; encrypted-media; fullscreen"
      allowfullscreen
    ></iframe>
  </div>

  <!-- 3) OVERLAY, który po pierwszym kliknięciu spróbuje odciszyć wideo -->
  <div id="click-overlay"></div>

  <!-- 4) PASEK NAWIGACYJNY NA GÓRZE -->
  <nav>
    <a href="index.html" class="nav-logo">DragonConfigs</a>
    <ul class="nav-list">
      <li class="active"><a href="index.html">Strona Główna</a></li>
      <li><a href="Configi.html">Wszystko MC</a></li>
      <li class="dropdown">
        <a href="#">Więcej</a>
        <ul class="dropdown-menu">
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="about.html">O nas</a></li>
        </ul>
      </li>
      <li><a href="download.html">Pobierz</a></li>
      <li><a href="https://discord.gg/pTXQpWgfaE" target="_blank">Kontakt</a></li>
    </ul>
  </nav>

  <!-- 5) HERO: NAPIS + PRZYCISK NA ŚRODKU -->
  <header class="hero">
    <div class="typewriter-container">
      <span id="typed-text"></span><span id="cursor">|</span>
    </div>
    <p>Twoje centrum cheatów i configów do Minecrafta</p>
    <a href="Configi.html" class="btn">Zobacz Configi</a>
  </header>

  <!-- 6) STOPKA -->
  <footer>
    <p>&copy; 2025 DragonConfigs | Made by XxvoltikxX</p>
    <p><a href="https://minecraft.net" target="_blank" rel="noopener">Oficjalna strona Minecraft</a></p>
  </footer>

  <!-- 7) YOUTUBE IFRAME API (wymagane, by próbować unMute po pierwszym kliknięciu) -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    let player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('bg-video', {
        events: {
          'onReady': () => {
            // Film jest wczytany – próbujemy autostartu z dźwiękiem.
          }
        }
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      // 1) Kliknięcie na overlay: próbujemy odciszyć wideo
      const overlay = document.getElementById('click-overlay');
      overlay.addEventListener('click', () => {
        if (player && typeof player.unMute === 'function') {
          player.unMute();    // próbujemy odciszyć wideo
          player.playVideo(); // w razie potrzeby wznowić odtwarzanie
        }
        // Usuwamy overlay, aby nie blokował interakcji w przyszłości:
        overlay.parentNode.removeChild(overlay);
      });

      // 2) Animacja unoszących się pyłków
      const canvas = document.getElementById('fireCanvas');
      const ctx = canvas.getContext('2d');
      let particles = [];
      const MAX_PARTICLES = 120;

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight - 60; // 60px navbar
      }
      window.addEventListener('resize', resizeCanvas);
      resizeCanvas();

      function randBetween(min, max) {
        return Math.random() * (max - min) + min;
      }

      class Particle {
        constructor() {
          this.x = randBetween(0, canvas.width);
          this.y = randBetween(0, canvas.height);
          this.velocityY = randBetween(-0.3, -1.0);
          this.velocityX = randBetween(-0.2, 0.2);
          this.size = randBetween(1, 3);
          this.alpha = randBetween(0.1, 0.3);
          this.decay = randBetween(0.0005, 0.0015);
          const v = Math.floor(randBetween(200, 255));
          this.color = `rgba(${v}, ${v}, ${v}, ${this.alpha})`;
        }
        update() {
          this.y += this.velocityY;
          this.x += this.velocityX;
          this.alpha -= this.decay;
          if (this.alpha < 0) this.alpha = 0;
          if (this.y < -this.size || this.alpha <= 0) {
            this.reset();
          }
        }
        draw() {
          ctx.beginPath();
          ctx.fillStyle = this.color.replace(/[\d\.]+\)$/g, `${this.alpha})`);
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fill();
          ctx.closePath();
        }
        reset() {
          this.x = randBetween(0, canvas.width);
          this.y = randBetween(canvas.height, canvas.height + 50);
          this.velocityY = randBetween(-0.3, -1.0);
          this.velocityX = randBetween(-0.2, 0.2);
          this.size = randBetween(1, 3);
          this.alpha = randBetween(0.1, 0.3);
          this.decay = randBetween(0.0005, 0.0015);
          const v = Math.floor(randBetween(200, 255));
          this.color = `rgba(${v}, ${v}, ${v}, ${this.alpha})`;
        }
      }

      function initParticles() {
        particles = [];
        for (let i = 0; i < MAX_PARTICLES; i++) {
          particles.push(new Particle());
        }
      }
      initParticles();

      function animateParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => {
          p.update();
          p.draw();
        });
        requestAnimationFrame(animateParticles);
      }
      animateParticles();

      // 3) Efekt pisania (TYPEWRITER) w HERO:
      const typedTextSpan = document.getElementById('typed-text');
      const cursorSpan = document.getElementById('cursor');
      const textToType = 'Witaj na stronie DragonConfigs';
      const typingSpeed = 120;   // ms między literami
      const erasingSpeed = 60;   // ms między usuwanymi literami
      const newTextDelay = 1500; // ms pauzy po wpisaniu całego tekstu
      let charIndex = 0;
      let isErasing = false;

      function type() {
        if (!isErasing) {
          if (charIndex < textToType.length) {
            typedTextSpan.textContent += textToType.charAt(charIndex);
            charIndex++;
            setTimeout(type, typingSpeed);
          } else {
            setTimeout(() => {
              isErasing = true;
              setTimeout(type, erasingSpeed);
            }, newTextDelay);
          }
        } else {
          if (charIndex > 0) {
            typedTextSpan.textContent = textToType.substring(0, charIndex - 1);
            charIndex--;
            setTimeout(type, erasingSpeed);
          } else {
            isErasing = false;
            setTimeout(type, typingSpeed);
          }
        }
      }
      setTimeout(type, newTextDelay);
    });
  </script>
</body>
</html>
